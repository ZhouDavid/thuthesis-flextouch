\chapter{Example Applications}
In this section, we present four example applications to demonstrate the versatility of \textit{Flextouch}, including examples of body posture recognition, 2D large-scale continuous touch tracking as well as sensing the presence of everyday objects. These applications demonstrate the possibility of new interaction methods and the sensing potential of \emph{FlexTouch}.

\section{Smart Mattress for Sleep Monitoring}
As \textit{FlexTouch}'s sensing range can reach up to 4 meters, we can leverage this long-range capability to detect users' behaviors while they're in bed. This is achieved by fabricating a three-layer structure with $5 \times 6 = 30$ sensing notes as presented in Fig ~\ref{fig:smartmattress} A - C. Each sensing node on the top layer is formed with a signal and a grounding electrode (Fig ~\ref{fig:smartmattress} B). All electrode pairs are connected to electrodes on the bottom layer. We placed a mattress on a wooden board and affixed a copper-tape circuit (Fig ~\ref{fig:smartmattress} C) with its electrodes connected with the electrodes on the bottom layer of the mattress. We activated the application by plugging in the touchscreen phone using a clip with an array of copper foil tapes attached (Fig ~\ref{fig:smartmattress} E to I). The material cost of this application was 10 USD.

% \begin{figure}[ht]
%   \centering
%     \includegraphics[width=0.85\columnwidth]{figures/FlexTouch-mattress.png}
%     \setlength{\belowcaptionskip}{-6pt}
%     \caption{The structure of the smart mattress (A - C), the classification confusion matrix (D)  and the five detected states (E - I) with corresponding scenarios and raw sensing data visualization}
%     \label{fig:smartmattress}
%   \end{figure}

\subsection{User Evaluation}
To evaluate the performance of the smart mattress, we recruited eight pairs of participants (10 males) with an average age of 25.6 (SD = 2.2) and an average height of 170 cm (SD = 5.3) who we compensated with a \$20 gift card for a 30-minute test. There was one practice session followed by three data collection sessions. For each session, the paired participants followed the instruction of \textit{single user sitting on the bed}, \textit{single user lying on the bed}, \textit{one user sitting and one user lying on the bed}, \textit{two users lying on the bed} in order. The paired participants repeated the above procedure in each session five times and kept each posture for approximately 4 seconds. We logged the raw capacitive data with a Huawei P20 phone and logged the procedure with a camera for labeling. 

\subsection{Result}
All samples were manually labeled according to the video. We picked frames out of the series of data for each state. The dataset contains 120 data samples per posture across participants and each data sample includes 30 raw capacitive data points. The dataset was randomly split into 2 subsets (96 training samples and 24 testing samples). We conducted 5-fold cross-validation using the LibSVM classifier and achieved an average accuracy of 91.2\% across 5 states. We believe that the low resolution causes low recognition when users are sitting on the mattress, as Fig ~\ref{fig:smartmattress} D indicates. We discuss this result and future design recommendations in the later discussion section.   

\section{Smart Yoga Mat for Fitness Posture Detection}
The sensing range of \textit{FlexTouch} allows us to enable large-scale sensing applications such as a yoga mat.  \textit{FlexTouch} can detect and classify different user poses based on their capacitive profiles when working out on the yoga mat. Leveraging this functionality, smart home applications can adjust the surrounding environment based on users' physical activities. For instance, it could adjust ambient light, temperature, and music according to the user's activity on the yoga mat. The materials we used to build the touch-sensitive yoga mat cost just 8 USD. 

% \begin{figure}[ht]
% \centering
%   \includegraphics[width=0.95\columnwidth]{figures/FlexTouch-yoga-new.png}
%   \caption{Recognizing user's posture on the yoga mat built by \textit{FlexTouch} with raw sensing image data}  \label{fig:yogamat}
% \end{figure}

As shown in figure ~\ref{fig:yogamat}, we built a 2D-patterned matrix ($8\times11 = 88$ sensing nodes) on a regular yoga mat using ITO strips, which can classify five different yoga poses (lord of the dance pose, plank, high lunge variation, camel pose and lotus pose).

\subsection{User Evaluation}
User Evaluation. We recruited 12 participants (6 males, 6 females, average age 27.7 (SD = 3.4), average height 171.2 cm (SD = 9.8). Each participant received \$10 for participating in this study, which included 1 practice session followed by three data collection sessions. Before each data collection session, the five postures were randomized. Then the participant performed each posture five times with a duration of 3 seconds. We logged the raw capacitive data with a Huawei P20 phone and logged the procedure with a camera for ground truth labeling.

\subsection{Results}
All samples were manually labeled according to the video. We picked the middle frame out of the series of data when the pose was performed. The dataset contains 180 data samples in total and each data sample includes 32 frames of raw capacitive data. We performed 5-fold cross-validation on the dataset (144 training samples and 36 testing samples for each iteration) using the LightGBM classifier and achieved an average accuracy of 97.1\% across 6 classes (five body postures and no action).

\section{Fitness Tracking on Count of Repetition, Speed and Distance}
In this example, we demonstrate fitness tracking applications when deploying \textit{FlexTouch} on a treadmill, cycling machine, and chest-press machine as shown in Figure ~\ref{fig:fitness}. Even though some recent commercial fitness machines have the function of sharing data to personal mobile devices, many machines are not embedded with this function such as chest press machine, lat pull-down gym machine, etc. Since these machines have similar periodic patterns, we propose these applications to inspire future designs by identifying the position where the sensing node is placed to sense states, state-changing events, and state-changing speed. We designed a binary sensor using a pair of $1.5m$-long, $3 mm$-wide copper foil tapes. Since the update rate of the Huawei P20 phone is 100 fps, the button sensor can detect not only the binary touch event but also how fast it changes. By counting the touch event frequency, we can calculate the distance or speed. This allows users to track their fitness behavior across devices at home or in the gym by simply plugging their phones into a customized passive module. Based on the tracking data, the application can customize fitness plans for individuals. This design cost 0.3 USD.

\begin{figure}[ht]
\centering
  \includegraphics[width=0.7\columnwidth]{figures/gym.png}
  \setlength{\belowcaptionskip}{-4pt}
  \caption{Fitness tracking using \textit{FlexTouch}. A and D: speed tracking on a cycling machine. B and E: push counter on a chest-press machine. C and F: distance and speed tracking on a treadmill.}  
  \label{fig:fitness}
\end{figure}

\subsection{User Study}
To evaluate the tracking accuracy, we recruited six users (3 females, average age of 24.7 (SD = 0.8)). Each user finished three rounds of testing. For each round, users ran on the treadmill for 2 minutes with a maximum speed of $12KM/H$, rode the cycling machine for 2 minutes with a maximum speed of $25KM/H$, and, finally, finished the round with ten chest presses. The study lasted for 20 minutes and we compensated each participant with a \$20 dollar gift card. We used a camera attached on the display panel to record the speed and distance data from the fitness machine for ground truth annotation.

\subsection{Results}
We measured the maximum riding speed from the cycling machine, the maximum running speed and distance resolution from the treadmill as well as repeat counts from the chest-press machine. Since the signal processing algorithm stated in Section $4.4$ requires a minimum of 10 valid data to detect a touch event, there's an upper limit of the build button sensor's working frequency under 10 fps. Results indicate that \textit{FlexTouch} had an accuracy of 98.9\% on tracking the running and cycling speed and 100\% on tracking the chest-press count. Since the touch event happens once every cycle, our distance tracking resolution for the treadmill is 1.5 meter for the model that we tested.

\section{Smart Desk Reminder Application}
Given the flexible and passive nature of \textit{FlexTouch}, we recognize the potential to integrate it into large surfaces such as tables or desks to detect interaction with humans or everyday objects (Fig ~\ref{fig:smartdesk}). In this example, we placed three sensing nodes $40 cm$ away from the touchscreen to sense the user's body contact as well as one sensing node with $20 cm$ distance to sense the cup's water status (i.e. the amount of water remaining in the cup). When the user is working, instead of placing the phone on the desk, the user uses \textit{FlexTouch} to activate the smart desk application. It can remind users to take a break or stay hydrated by drinking water while they work continuously for a while. This is achieved by extending the touch sensing node to the desk where users lay their arm and place the water cup. The material cost for building this application was 0.30 USD.


% \begin{figure}[ht]
% \centering
%   \includegraphics[width=0.8\columnwidth]{figures/FlexTouch-desk.png}
%   \setlength{\belowcaptionskip}{-4pt}
%   \caption{Smart desk example detecting user and object's presence and status}
%   \label{fig:smartdesk}
% \end{figure}

\subsection{User Study}
To evaluate the sensing performance on the presence and status of the user and the water cup, we conducted a user study in which six users (2 females, 4 males, average age of 25.0 (SD = 0.9)) participated. For each round, users read a book with his or her arms laying on the table for 20 seconds and then replaced the thin plastic water cup filled with $250 ml$ water with another water cup filled with $50 ml$ water. Finally, the user left the desk for 10 seconds and came back to repeat the session five times in total.

\subsection{Results}
We obtained a dataset containing 16 minutes of user's behavior data ($96.5 K$ data frames). We manually labeled the data to extract 60 data points on user presence status and 90 data points on the cup status. We measured the detection accuracy by whether the user was present as well as the cup's water status (not present, $50 ml$ and $250 ml$ water inside). Results show that \textit{FlexTouch} can achieve an accuracy of 98.3\% on in detecting the user presence at the desk, an accuracy of 92.2\% on the cup water status (see the confusion matrix in Figure \ref{fig:smartdesk}) C.

